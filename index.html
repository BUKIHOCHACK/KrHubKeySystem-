<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KrHub Key System</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 50px; }
    .key-box, #copyBtn { display: none; margin-top: 20px; }
    button { padding: 10px 20px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>KrHub Key System</h1>
  <p>Pls getkey before using script!</p></p>

  <button onclick="openLink()">GetKey</button>

  <div class="key-box" id="keyBox">Your Keys: <span id="showKey"></span></div>
  <button id="copyBtn" onclick="copyKey()">Copy Key</button>

  <script>
    function openLink() {
      localStorage.setItem("passedLink", "true");
      window.open("https://link-target.net/1347532/krhub-key-system-v2", "_blank");
    }

    function generateKey() {
      const rand = Math.random().toString(36).substring(2, 10);
      return "KrHub" + "1234" + "@";
    }

    function copyKey() {
      const key = document.getElementById("showKey").textContent;
      navigator.clipboard.writeText(key);
      alert("Copy key: " + key);
    }

    const passed = localStorage.getItem("passedLink");
    if (passed === "true") {
      let savedKey = localStorage.getItem("krhubKey");
      if (!savedKey) {
        savedKey = generateKey();
        localStorage.setItem("krhubKey", savedKey);
      }
      document.getElementById("showKey").textContent = savedKey;
      document.getElementById("keyBox").style.display = "block";
      document.getElementById("copyBtn").style.display = "inline-block";
    }
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key System - KrHub</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 50px; }
    .key-box { font-size: 20px; margin: 20px; }
  </style>
</head>
<body>
  <h1>KrHub Key System</h1>
  <p>Get Key System for 24h 24h:</p>
  <a href="https://linkvertise.com/1347532/key-system?o=sharing" target="_blank">
    <button> Get key with Linkvertise</button>
  </a>

  <div class="key-box" id="keyBox"></div>
  <div id="timeLeft"></div>

  <script>
    function generateKey() {
      const rand = Math.random().toString(36).slice(2, 10); // Random chuỗi
      return "KrHub" + rand + "@";
    }

    function startTimer(expireTime) {
      const timer = setInterval(() => {
        const now = Date.now();
        const distance = expireTime - now;
        if (distance < 0) {
          clearInterval(timer);
          localStorage.removeItem("krhubKey");
          localStorage.removeItem("keyExpire");
          document.getElementById("keyBox").innerText = "Key đã hết hạn.";
          document.getElementById("timeLeft").innerText = "";
          return;
        }
        const hours = Math.floor(distance / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        document.getElementById("timeLeft").innerText = 
          `Còn lại: ${hours}h ${minutes}m ${seconds}s`;
      }, 1000);
    }

    // Kiểm tra key đã tồn tại trong LocalStorage
    let savedKey = localStorage.getItem("krhubKey");
    let expireTime = localStorage.getItem("keyExpire");

    if (!savedKey || !expireTime || Date.now() > expireTime) {
      const newKey = generateKey();
      const expire = Date.now() + 24 * 60 * 60 * 1000; // 24 giờ
      localStorage.setItem("krhubKey", newKey);
      localStorage.setItem("keyExpire", expire);
      savedKey = newKey;
      expireTime = expire;
    }

    document.getElementById("keyBox").innerText = "Key của bạn: " + savedKey;
    startTimer(expireTime);
  </script>
</body>
</html>
